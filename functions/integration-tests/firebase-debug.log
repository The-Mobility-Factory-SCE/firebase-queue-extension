[debug] [2024-09-06T12:18:59.042Z] ----------------------------------------------------------------------
[debug] [2024-09-06T12:18:59.044Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start --project=demo-test
[debug] [2024-09-06T12:18:59.044Z] CLI Version:   13.16.0
[debug] [2024-09-06T12:18:59.044Z] Platform:      linux
[debug] [2024-09-06T12:18:59.044Z] Node Version:  v18.16.0
[debug] [2024-09-06T12:18:59.045Z] Time:          Fri Sep 06 2024 14:18:59 GMT+0200 (Central European Summer Time)
[debug] [2024-09-06T12:18:59.045Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-09-06T12:18:59.134Z] Object ".extensions" in "firebase.json" has unknown property: {"additionalProperty":"firebase-queue"}
[debug] [2024-09-06T12:18:59.137Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-09-06T12:18:59.138Z] > authorizing via signed-in user (alenus.tim@gmail.com)
[debug] [2024-09-06T12:18:59.170Z] openjdk version "18.0.2-ea" 2022-07-19
OpenJDK Runtime Environment (build 18.0.2-ea+9-Ubuntu-222.04)

[debug] [2024-09-06T12:18:59.171Z] OpenJDK 64-Bit Server VM (build 18.0.2-ea+9-Ubuntu-222.04, mixed mode, sharing)

[debug] [2024-09-06T12:18:59.178Z] Parsed Java major version: 18
[info] i  emulators: Starting emulators: functions, database, extensions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, database, extensions"}}
[info] i  emulators: Detected demo project ID "demo-test", emulated services will use a demo configuration and attempts to access non-emulated services for this project will fail. {"metadata":{"emulator":{"name":"hub"},"message":"Detected demo project ID \"demo-test\", emulated services will use a demo configuration and attempts to access non-emulated services for this project will fail."}}
[debug] [2024-09-06T12:18:59.181Z] Successfully read params from firebase-queue.env
[debug] [2024-09-06T12:18:59.181Z] Error: ENOENT: no such file or directory, open '/home/timalenus/TMF/firebase-queue-extension/functions/integration-tests/extensions/firebase-queue.env.0'
[debug] [2024-09-06T12:18:59.181Z] Error: ENOENT: no such file or directory, open '/home/timalenus/TMF/firebase-queue-extension/functions/integration-tests/extensions/firebase-queue.env.demo-test'
[debug] [2024-09-06T12:18:59.182Z] Error: ENOENT: no such file or directory, open '/home/timalenus/TMF/firebase-queue-extension/functions/integration-tests/extensions/firebase-queue.env.local'
[debug] [2024-09-06T12:18:59.209Z] [extensions] Source code valid for ../..
[debug] [2024-09-06T12:18:59.217Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-06T12:18:59.218Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-06T12:18:59.218Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-06T12:18:59.218Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-06T12:18:59.218Z] [database] Database Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-06T12:18:59.219Z] assigned listening specs for emulators {"user":{"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}],"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"database":[{"address":"127.0.0.1","family":"IPv4","port":9000}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2024-09-06T12:18:59.224Z] [hub] writing locator at /tmp/hub-demo-test.json
[warn] ⚠  functions: The functions emulator is configured but there is no functions source directory. Have you run firebase init functions? {"metadata":{"emulator":{"name":"functions"},"message":"The functions emulator is configured but there is no functions source directory. Have you run \u001b[1mfirebase init functions\u001b[22m?"}}
[debug] [2024-09-06T12:18:59.228Z] [Extensions] Started Extensions emulator, this is a noop.
[debug] [2024-09-06T12:18:59.229Z] defaultcredentials: writing to file /home/timalenus/.config/firebase/alenus_tim_gmail.com_application_default_credentials.json
[debug] [2024-09-06T12:18:59.230Z] Setting GAC to /home/timalenus/.config/firebase/alenus_tim_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/timalenus/.config/firebase/alenus_tim_gmail.com_application_default_credentials.json"}}
[debug] [2024-09-06T12:18:59.240Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/demo-test [none]
[debug] [2024-09-06T12:18:59.515Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/demo-test 403
[debug] [2024-09-06T12:18:59.516Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/demo-test {"error":{"code":403,"message":"The caller does not have permission","status":"PERMISSION_DENIED"}}
[debug] [2024-09-06T12:18:59.517Z] HTTP Error: 403, The caller does not have permission
[debug] [2024-09-06T12:18:59.518Z] Failed to retrieve default database instance: {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Firebase project demo-test. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":403,"message":"The caller does not have permission","status":"PERMISSION_DENIED"}},"response":{"statusCode":403}},"exit":1,"message":"HTTP Error: 403, The caller does not have permission","status":403},"status":500} {"metadata":{"emulator":{"name":"database"},"message":"Failed to retrieve default database instance: {\"name\":\"FirebaseError\",\"children\":[],\"exit\":2,\"message\":\"Failed to get Firebase project demo-test. Please make sure the project exists and your account has permission to access it.\",\"original\":{\"name\":\"FirebaseError\",\"children\":[],\"context\":{\"body\":{\"error\":{\"code\":403,\"message\":\"The caller does not have permission\",\"status\":\"PERMISSION_DENIED\"}},\"response\":{\"statusCode\":403}},\"exit\":1,\"message\":\"HTTP Error: 403, The caller does not have permission\",\"status\":403},\"status\":500}"}}
[debug] [2024-09-06T12:18:59.519Z] database rules config:  []
[warn] ⚠  database: Did not find a Realtime Database rules file specified in a firebase.json config file. The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration. {"metadata":{"emulator":{"name":"database"},"message":"Did not find a Realtime Database rules file specified in a firebase.json config file. The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration."}}
[debug] [2024-09-06T12:18:59.523Z] Ignoring unsupported arg: projectId {"metadata":{"emulator":{"name":"database"},"message":"Ignoring unsupported arg: projectId"}}
[debug] [2024-09-06T12:18:59.523Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"database"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2024-09-06T12:18:59.523Z] Ignoring unsupported arg: rules {"metadata":{"emulator":{"name":"database"},"message":"Ignoring unsupported arg: rules"}}
[debug] [2024-09-06T12:18:59.524Z] Starting Database Emulator with command {"binary":"java","args":["-Duser.language=en","-jar","/home/timalenus/.cache/firebase/emulators/firebase-database-emulator-v4.11.2.jar","--host","127.0.0.1","--port",9000,"--single_project_mode","Warning","--functions_emulator_host","127.0.0.1","--functions_emulator_port",5001],"optionalArgs":["port","host","functions_emulator_port","functions_emulator_host","single_project_mode"],"joinArgs":false,"shell":false} {"metadata":{"emulator":{"name":"database"},"message":"Starting Database Emulator with command {\"binary\":\"java\",\"args\":[\"-Duser.language=en\",\"-jar\",\"/home/timalenus/.cache/firebase/emulators/firebase-database-emulator-v4.11.2.jar\",\"--host\",\"127.0.0.1\",\"--port\",9000,\"--single_project_mode\",\"Warning\",\"--functions_emulator_host\",\"127.0.0.1\",\"--functions_emulator_port\",5001],\"optionalArgs\":[\"port\",\"host\",\"functions_emulator_port\",\"functions_emulator_host\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false}"}}
[info] i  database: Database Emulator logging to database-debug.log {"metadata":{"emulator":{"name":"database"},"message":"Database Emulator logging to \u001b[1mdatabase-debug.log\u001b[22m"}}
[debug] [2024-09-06T12:19:00.551Z] 14:19:00.550 [NamespaceSystem-akka.actor.default-dispatcher-4] INFO akka.event.slf4j.Slf4jLogger - Slf4jLogger started
 {"metadata":{"emulator":{"name":"database"},"message":"14:19:00.550 [NamespaceSystem-akka.actor.default-dispatcher-4] INFO akka.event.slf4j.Slf4jLogger - Slf4jLogger started\n"}}
[debug] [2024-09-06T12:19:00.726Z] 14:19:00.726 [main] INFO com.firebase.server.forge.App$ - Listening at 127.0.0.1:9000
 {"metadata":{"emulator":{"name":"database"},"message":"14:19:00.726 [main] INFO com.firebase.server.forge.App$ - Listening at 127.0.0.1:9000\n"}}
[debug] [2024-09-06T12:19:00.753Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2024-09-06T12:19:00.753Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2024-09-06T12:19:00.753Z] Starting Emulator UI with command {"binary":"node","args":["/home/timalenus/.cache/firebase/emulators/ui-v1.13.0/server/server.mjs"],"optionalArgs":[],"joinArgs":false,"shell":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/timalenus/.cache/firebase/emulators/ui-v1.13.0/server/server.mjs\"],\"optionalArgs\":[],\"joinArgs\":false,\"shell\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2024-09-06T12:19:00.876Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2024-09-06T12:19:00.876Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[debug] [2024-09-06T12:19:00.968Z] [Extensions] Connecting Extensions emulator, this is a noop.
[info] i  functions: Watching "/home/timalenus/TMF/firebase-queue-extension/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/timalenus/TMF/firebase-queue-extension/functions\" for Cloud Functions..."}}
[info] ✔  functions: Loaded functions definitions from source: onWrite. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onWrite."}}
[debug] [2024-09-06T12:19:00.984Z] addRealtimeDatabaseTrigger[demo-test] "{\"name\":\"projects/demo-test/locations/_/functions/us-central1-ext-firebase-queue-onWrite-0\",\"path\":\"/orders/{pushId}\",\"event\":\"providers/google.firebase.database/eventTypes/ref.write\",\"topic\":\"projects/demo-test/topics/us-central1-ext-firebase-queue-onWrite-0\"}"
[debug] [2024-09-06T12:19:00.985Z] >>> [apiv2][query] POST http://127.0.0.1:9000/.settings/functionTriggers.json?ns=demo-test [none]
[debug] [2024-09-06T12:19:00.986Z] >>> [apiv2][body] POST http://127.0.0.1:9000/.settings/functionTriggers.json?ns=demo-test "{\"name\":\"projects/demo-test/locations/_/functions/us-central1-ext-firebase-queue-onWrite-0\",\"path\":\"/orders/{pushId}\",\"event\":\"providers/google.firebase.database/eventTypes/ref.write\",\"topic\":\"projects/demo-test/topics/us-central1-ext-firebase-queue-onWrite-0\"}"
[debug] [2024-09-06T12:19:01.299Z] 14:19:01.299 [NamespaceSystem-akka.actor.default-dispatcher-4] INFO com.firebase.core.namespace.NamespaceActor - demo-test successfully activated FBKV (SurveyIdle(0)) wait: 145ms, init: 0ms
 {"metadata":{"emulator":{"name":"database"},"message":"14:19:01.299 [NamespaceSystem-akka.actor.default-dispatcher-4] INFO com.firebase.core.namespace.NamespaceActor - demo-test successfully activated FBKV (SurveyIdle(0)) wait: 145ms, init: 0ms\n"}}
[debug] [2024-09-06T12:19:01.367Z] 14:19:01.367 [NamespaceSystem-blocking-namespace-operation-dispatcher-6] INFO com.firebase.core.namespace.StateManager - Namespace demo-test status Active to Active
 {"metadata":{"emulator":{"name":"database"},"message":"14:19:01.367 [NamespaceSystem-blocking-namespace-operation-dispatcher-6] INFO com.firebase.core.namespace.StateManager - Namespace demo-test status Active to Active\n"}}
[debug] [2024-09-06T12:19:01.396Z] <<< [apiv2][status] POST http://127.0.0.1:9000/.settings/functionTriggers.json?ns=demo-test 200
[debug] [2024-09-06T12:19:01.396Z] <<< [apiv2][body] POST http://127.0.0.1:9000/.settings/functionTriggers.json?ns=demo-test {"status":"ok"}
[info] ✔  functions[us-central1-ext-firebase-queue-onWrite]: database function initialized. {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mdatabase\u001b[22m function initialized."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────┬────────────────┬──────────────────────────────────┐
│ Emulator   │ Host:Port      │ View in Emulator UI              │
├────────────┼────────────────┼──────────────────────────────────┤
│ Functions  │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions  │
├────────────┼────────────────┼──────────────────────────────────┤
│ Database   │ 127.0.0.1:9000 │ http://127.0.0.1:4000/database   │
├────────────┼────────────────┼──────────────────────────────────┤
│ Extensions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/extensions │
└────────────┴────────────────┴──────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500
┌─────────────────────────┬─────────────────┬─────────────────────────────────────────────────┐
│ Extension Instance Name │ Extension Ref   │ View in Emulator UI                             │
├─────────────────────────┼─────────────────┼─────────────────────────────────────────────────┤
│ firebase-queue          │ Local Extension │ http://127.0.0.1:4000/extensions/firebase-queue │
└─────────────────────────┴─────────────────┴─────────────────────────────────────────────────┘
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2024-09-06T12:19:41.273Z] 14:19:41.273 [NamespaceSystem-blocking-namespace-operation-dispatcher-13] INFO com.firebase.core.stats.EventAuditLog - {"eventId":"uUA9TqgGNg2RFrND0LcYy4eYN1Y=","namespace":"demo-test","projectNumber":"123456789","eventType":"providers/google.firebase.database/eventTypes/ref.write","flowName":"projects/demo-test/topics/us-central1-ext-firebase-queue-onWrite-0","resource":"projects/_/instances/demo-test/refs/orders/test","evaluationTimestamp":"2024-09-06T12:19:41.223Z","stage":"TRIGGERED"}
 {"metadata":{"emulator":{"name":"database"},"message":"14:19:41.273 [NamespaceSystem-blocking-namespace-operation-dispatcher-13] INFO com.firebase.core.stats.EventAuditLog - {\"eventId\":\"uUA9TqgGNg2RFrND0LcYy4eYN1Y=\",\"namespace\":\"demo-test\",\"projectNumber\":\"123456789\",\"eventType\":\"providers/google.firebase.database/eventTypes/ref.write\",\"flowName\":\"projects/demo-test/topics/us-central1-ext-firebase-queue-onWrite-0\",\"resource\":\"projects/_/instances/demo-test/refs/orders/test\",\"evaluationTimestamp\":\"2024-09-06T12:19:41.223Z\",\"stage\":\"TRIGGERED\"}\n"}}
[debug] [2024-09-06T12:19:41.320Z] [work-queue] {"queuedWork":["/functions/projects/demo-test/triggers/us-central1-ext-firebase-queue-onWrite-0-2024-09-06T12:19:41.320Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-06T12:19:41.321Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/demo-test/triggers/us-central1-ext-firebase-queue-onWrite-0-2024-09-06T12:19:41.320Z"],"workRunningCount":1}
[debug] [2024-09-06T12:19:41.321Z] Accepted request POST /functions/projects/demo-test/triggers/us-central1-ext-firebase-queue-onWrite-0 --> us-central1-ext-firebase-queue-onWrite-0
[debug] [2024-09-06T12:19:41.322Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-06T12:19:41.322Z] [functions] Got req.url=/functions/projects/demo-test/triggers/us-central1-ext-firebase-queue-onWrite-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/demo-test/triggers/us-central1-ext-firebase-queue-onWrite-0, mapping to path=/functions/projects/"}}
[debug] [2024-09-06T12:19:41.339Z] [worker-pool] addWorker(us-central1-ext-firebase-queue-onWrite) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-ext-firebase-queue-onWrite)"}}
[debug] [2024-09-06T12:19:41.341Z] [worker-pool] Adding worker with key us-central1-ext-firebase-queue-onWrite, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-ext-firebase-queue-onWrite, total=1"}}
[debug] [2024-09-06T12:19:42.189Z] [runtime-status] [225654] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.4.0","resolution":"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-09-06T12:19:42.190Z] [runtime-status] [225654] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-06T12:19:42.191Z] [runtime-status] [225654] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-09-06T12:19:42.192Z] [runtime-status] [225654] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-06T12:19:42.416Z] [runtime-status] [225654] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-09-06T12:19:42.417Z] [runtime-status] [225654] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-09-06T12:19:42.418Z] [runtime-status] [225654] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-06T12:19:42.419Z] [runtime-status] [225654] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.4.0","resolution":"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-09-06T12:19:42.420Z] [runtime-status] [225654] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-06T12:19:42.421Z] [runtime-status] [225654] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.4.0","resolution":"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/home/timalenus/TMF/firebase-queue-extension/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2024-09-06T12:19:42.422Z] [runtime-status] [225654] initializeApp(DEFAULT) {"storageBucket":"demo-test.appspot.com","databaseURL":"http://127.0.0.1:9000/?ns=demo-test","projectId":"demo-test"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] initializeApp(DEFAULT) {\"storageBucket\":\"demo-test.appspot.com\",\"databaseURL\":\"http://127.0.0.1:9000/?ns=demo-test\",\"projectId\":\"demo-test\"}"}}
[debug] [2024-09-06T12:19:42.430Z] [runtime-status] [225654] Functions runtime initialized. {"cwd":"/home/timalenus/TMF/firebase-queue-extension/functions","node_version":"18.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] Functions runtime initialized. {\"cwd\":\"/home/timalenus/TMF/firebase-queue-extension/functions\",\"node_version\":\"18.16.0\"}"}}
[debug] [2024-09-06T12:19:42.430Z] [runtime-status] [225654] Listening to port: /tmp/fire_emu_d725b92819d58748.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] Listening to port: /tmp/fire_emu_d725b92819d58748.sock"}}
[debug] [2024-09-06T12:19:42.471Z] [worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: IDLE"}}
[debug] [2024-09-06T12:19:42.471Z] [worker-pool] submitRequest(triggerId=us-central1-ext-firebase-queue-onWrite) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-ext-firebase-queue-onWrite)"}}
[info] i  functions: Beginning execution of "us-central1-ext-firebase-queue-onWrite" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"Beginning execution of \"us-central1-ext-firebase-queue-onWrite\""}}
[debug] [2024-09-06T12:19:42.472Z] [worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: BUSY"}}
[debug] [2024-09-06T12:19:42.483Z] [runtime-status] [225654] RunBackground {"data":{"data":null,"delta":{"productId":"blah"}},"context":{"eventType":"providers/google.firebase.database/eventTypes/ref.write","params":{"pushId":"test"},"auth":{"admin":true},"domain":"localhost","resource":"projects/_/instances/demo-test/refs/orders/test","timestamp":"2024-09-06T12:19:41.223Z","eventId":"uUA9TqgGNg2RFrND0LcYy4eYN1Y="}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] RunBackground {\"data\":{\"data\":null,\"delta\":{\"productId\":\"blah\"}},\"context\":{\"eventType\":\"providers/google.firebase.database/eventTypes/ref.write\",\"params\":{\"pushId\":\"test\"},\"auth\":{\"admin\":true},\"domain\":\"localhost\",\"resource\":\"projects/_/instances/demo-test/refs/orders/test\",\"timestamp\":\"2024-09-06T12:19:41.223Z\",\"eventId\":\"uUA9TqgGNg2RFrND0LcYy4eYN1Y=\"}}"}}
[info] >  {"severity":"INFO","message":"onWrite orders/test changed"} {"user":{"severity":"INFO","message":"onWrite orders/test changed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"onWrite orders/test changed\"}"}}
[debug] [2024-09-06T12:19:42.502Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-ext-firebase-queue-onWrite" in 30.234762ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"Finished \"us-central1-ext-firebase-queue-onWrite\" in 30.234762ms"}}
[debug] [2024-09-06T12:19:42.503Z] [worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: IDLE"}}
[debug] [2024-09-06T12:19:42.503Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-06T12:19:42.503Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"Finishing up request with event=close"}}
[debug] [2024-09-06T12:19:42.504Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-06T12:19:56.693Z] 14:19:56.692 [NamespaceSystem-blocking-namespace-operation-dispatcher-16] INFO com.firebase.core.stats.EventAuditLog - {"eventId":"8B21SBSTD7PsF8Z7pnWDIe76ah0=","namespace":"demo-test","projectNumber":"123456789","eventType":"providers/google.firebase.database/eventTypes/ref.write","flowName":"projects/demo-test/topics/us-central1-ext-firebase-queue-onWrite-0","resource":"projects/_/instances/demo-test/refs/orders/test","evaluationTimestamp":"2024-09-06T12:19:56.682Z","stage":"TRIGGERED"}
 {"metadata":{"emulator":{"name":"database"},"message":"14:19:56.692 [NamespaceSystem-blocking-namespace-operation-dispatcher-16] INFO com.firebase.core.stats.EventAuditLog - {\"eventId\":\"8B21SBSTD7PsF8Z7pnWDIe76ah0=\",\"namespace\":\"demo-test\",\"projectNumber\":\"123456789\",\"eventType\":\"providers/google.firebase.database/eventTypes/ref.write\",\"flowName\":\"projects/demo-test/topics/us-central1-ext-firebase-queue-onWrite-0\",\"resource\":\"projects/_/instances/demo-test/refs/orders/test\",\"evaluationTimestamp\":\"2024-09-06T12:19:56.682Z\",\"stage\":\"TRIGGERED\"}\n"}}
[debug] [2024-09-06T12:19:56.700Z] [work-queue] {"queuedWork":["/functions/projects/demo-test/triggers/us-central1-ext-firebase-queue-onWrite-0-2024-09-06T12:19:56.700Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-06T12:19:56.701Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/functions/projects/demo-test/triggers/us-central1-ext-firebase-queue-onWrite-0-2024-09-06T12:19:56.700Z"],"workRunningCount":1}
[debug] [2024-09-06T12:19:56.701Z] Accepted request POST /functions/projects/demo-test/triggers/us-central1-ext-firebase-queue-onWrite-0 --> us-central1-ext-firebase-queue-onWrite-0
[debug] [2024-09-06T12:19:56.702Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-06T12:19:56.705Z] [functions] Got req.url=/functions/projects/demo-test/triggers/us-central1-ext-firebase-queue-onWrite-0, mapping to path=/functions/projects/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/functions/projects/demo-test/triggers/us-central1-ext-firebase-queue-onWrite-0, mapping to path=/functions/projects/"}}
[debug] [2024-09-06T12:19:56.705Z] [worker-pool] submitRequest(triggerId=us-central1-ext-firebase-queue-onWrite) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-ext-firebase-queue-onWrite)"}}
[info] i  functions: Beginning execution of "us-central1-ext-firebase-queue-onWrite" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"Beginning execution of \"us-central1-ext-firebase-queue-onWrite\""}}
[debug] [2024-09-06T12:19:56.707Z] [worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: BUSY"}}
[debug] [2024-09-06T12:19:56.720Z] [runtime-status] [225654] RunBackground {"data":{"data":{"productId":"blah"},"delta":null},"context":{"eventType":"providers/google.firebase.database/eventTypes/ref.write","params":{"pushId":"test"},"auth":{"admin":true},"domain":"localhost","resource":"projects/_/instances/demo-test/refs/orders/test","timestamp":"2024-09-06T12:19:56.682Z","eventId":"8B21SBSTD7PsF8Z7pnWDIe76ah0="}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[runtime-status] [225654] RunBackground {\"data\":{\"data\":{\"productId\":\"blah\"},\"delta\":null},\"context\":{\"eventType\":\"providers/google.firebase.database/eventTypes/ref.write\",\"params\":{\"pushId\":\"test\"},\"auth\":{\"admin\":true},\"domain\":\"localhost\",\"resource\":\"projects/_/instances/demo-test/refs/orders/test\",\"timestamp\":\"2024-09-06T12:19:56.682Z\",\"eventId\":\"8B21SBSTD7PsF8Z7pnWDIe76ah0=\"}}"}}
[info] >  {"severity":"INFO","message":"onWrite orders/test changed"} {"user":{"severity":"INFO","message":"onWrite orders/test changed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"onWrite orders/test changed\"}"}}
[debug] [2024-09-06T12:19:56.733Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-ext-firebase-queue-onWrite" in 27.278409ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"Finished \"us-central1-ext-firebase-queue-onWrite\" in 27.278409ms"}}
[debug] [2024-09-06T12:19:56.735Z] [worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: IDLE"}}
[debug] [2024-09-06T12:19:56.735Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-06T12:19:56.736Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"Finishing up request with event=close"}}
[debug] [2024-09-06T12:19:56.736Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-06T12:23:38.043Z] File /home/timalenus/TMF/firebase-queue-extension/functions/src/index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/timalenus/TMF/firebase-queue-extension/functions/src/index.ts changed, reloading triggers"}}
[info] ✔  functions: Loaded functions definitions from source: onWrite. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onWrite."}}
[debug] [2024-09-06T12:23:39.046Z] [worker-pool] Shutting down IDLE worker (us-central1-ext-firebase-queue-onWrite) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-ext-firebase-queue-onWrite)"}}
[debug] [2024-09-06T12:23:39.046Z] [worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: FINISHING"}}
[debug] [2024-09-06T12:23:39.055Z] [worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: exited"}}
[debug] [2024-09-06T12:23:39.056Z] [worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-ext-firebase-queue-onWrite"},"extension":{"instanceId":"firebase-queue"},"message":"[worker-us-central1-ext-firebase-queue-onWrite-cd90a2ad-cf97-47ea-b947-901962517e4f]: FINISHED"}}
